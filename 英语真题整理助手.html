<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è‹±è¯­çœŸé¢˜æ•´ç†åŠ©æ‰‹ - StudyX</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Microsoft YaHei', sans-serif;
            background: #0f0f23;
            color: #e0e0e0;
            line-height: 1.6;
            padding: 20px;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
        }
        
        h1 {
            text-align: center;
            color: #6366f1;
            margin-bottom: 10px;
            font-size: 28px;
        }
        
        .subtitle {
            text-align: center;
            color: #888;
            margin-bottom: 30px;
            font-size: 14px;
        }
        
        .step {
            background: #1a1a2e;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            border: 1px solid #2d2d44;
        }
        
        .step-number {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 28px;
            height: 28px;
            background: linear-gradient(135deg, #6366f1, #8b5cf6);
            border-radius: 50%;
            font-size: 14px;
            font-weight: 600;
            margin-right: 10px;
        }
        
        .step h2 {
            display: inline;
            font-size: 18px;
            color: #fff;
        }
        
        .step-content {
            margin-top: 15px;
            padding-left: 38px;
        }
        
        .tool-btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 12px 24px;
            background: linear-gradient(135deg, #6366f1, #8b5cf6);
            border: none;
            border-radius: 8px;
            color: white;
            font-size: 15px;
            cursor: pointer;
            margin: 10px 5px;
            transition: all 0.2s;
        }
        
        .tool-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);
        }
        
        .tool-btn.secondary {
            background: #2d2d44;
            border: 1px solid #6366f1;
        }
        
        textarea {
            width: 100%;
            min-height: 200px;
            background: #0f0f23;
            border: 1px solid #2d2d44;
            border-radius: 8px;
            padding: 12px;
            color: #e0e0e0;
            font-size: 14px;
            line-height: 1.6;
            resize: vertical;
            font-family: 'Consolas', 'Monaco', monospace;
        }
        
        textarea:focus {
            outline: none;
            border-color: #6366f1;
        }
        
        .input-group {
            margin-bottom: 15px;
        }
        
        .input-group label {
            display: block;
            margin-bottom: 5px;
            color: #888;
            font-size: 14px;
        }
        
        .input-group input {
            width: 100%;
            padding: 10px 12px;
            background: #0f0f23;
            border: 1px solid #2d2d44;
            border-radius: 6px;
            color: #e0e0e0;
            font-size: 14px;
        }
        
        .input-group input:focus {
            outline: none;
            border-color: #6366f1;
        }
        
        .preview {
            background: #0f0f23;
            border: 1px solid #2d2d44;
            border-radius: 8px;
            padding: 15px;
            margin-top: 15px;
            max-height: 400px;
            overflow-y: auto;
        }
        
        .preview-title {
            color: #6366f1;
            font-size: 14px;
            margin-bottom: 10px;
        }
        
        .sentence-pair {
            padding: 10px;
            border-bottom: 1px solid #2d2d44;
        }
        
        .sentence-pair:last-child {
            border-bottom: none;
        }
        
        .sentence-en {
            color: #e0e0e0;
            margin-bottom: 5px;
        }
        
        .sentence-zh {
            color: #888;
            font-size: 13px;
        }
        
        .tips {
            background: rgba(99, 102, 241, 0.1);
            border-left: 3px solid #6366f1;
            padding: 12px 15px;
            border-radius: 0 6px 6px 0;
            margin: 15px 0;
        }
        
        .tips h4 {
            color: #6366f1;
            margin-bottom: 8px;
        }
        
        .tips ul {
            margin-left: 20px;
            color: #aaa;
            font-size: 13px;
        }
        
        .tips li {
            margin-bottom: 5px;
        }
        
        .download-section {
            text-align: center;
            padding: 20px;
            background: rgba(99, 102, 241, 0.05);
            border-radius: 12px;
            margin-top: 20px;
        }
        
        #downloadLink {
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ“– è‹±è¯­çœŸé¢˜æ•´ç†åŠ©æ‰‹</h1>
        <p class="subtitle">å°†PDFå†…å®¹è½¬æ¢ä¸ºStudyX APPå¯å¯¼å…¥çš„JSONæ ¼å¼</p>
        
        <div class="step">
            <span class="step-number">1</span>
            <h2>å¡«å†™æ–‡ç« ä¿¡æ¯</h2>
            <div class="step-content">
                <div class="input-group">
                    <label>å¹´ä»½</label>
                    <input type="text" id="year" placeholder="å¦‚ï¼š2024" value="2024">
                </div>
                <div class="input-group">
                    <label>æ–‡ç« è‹±æ–‡æ ‡é¢˜ï¼ˆå¯ä»PDFå¤åˆ¶ï¼‰</label>
                    <input type="text" id="title" placeholder="å¦‚ï¼šThe Impact of Technology on Education">
                </div>
                <div class="input-group">
                    <label>æ¥æºè¯´æ˜</label>
                    <input type="text" id="source" placeholder="å¦‚ï¼š2024å¹´ç”³ç¡•è‹±è¯­çœŸé¢˜ Passage 1" value="2024å¹´ç”³ç¡•è‹±è¯­çœŸé¢˜ Passage 1">
                </div>
            </div>
        </div>
        
        <div class="step">
            <span class="step-number">2</span>
            <h2>ç²˜è´´è‹±æ–‡åŸæ–‡</h2>
            <div class="step-content">
                <textarea id="englishText" placeholder="è¯·ä»PDFä¸­å¤åˆ¶è‹±æ–‡åŸæ–‡ï¼Œç²˜è´´åˆ°è¿™é‡Œ...

æ ¼å¼ç¤ºä¾‹ï¼š
Technology has transformed the way we learn and teach in the 21st century. Online platforms allow students to access educational resources from anywhere in the world.

However, some experts argue that excessive screen time may affect students' physical health."></textarea>
                
                <div class="tips">
                    <h4>ğŸ’¡ ç²˜è´´æŠ€å·§</h4>
                    <ul>
                        <li>ä»PDFå¤åˆ¶æ—¶ï¼ŒæŒ‰æ®µè½ç²˜è´´</li>
                        <li>æ¯å¥è¯ç”¨å¥å·ã€é—®å·æˆ–æ„Ÿå¹å·ç»“å°¾</li>
                        <li>ä¿æŒåŸæ–‡çš„æ®µè½ç»“æ„</li>
                    </ul>
                </div>
            </div>
        </div>
        
        <div class="step">
            <span class="step-number">3</span>
            <h2>ç²˜è´´ä¸­æ–‡ç¿»è¯‘</h2>
            <div class="step-content">
                <textarea id="chineseText" placeholder="è¯·ç²˜è´´å¯¹åº”çš„ä¸­æ–‡ç¿»è¯‘...

æ ¼å¼ç¤ºä¾‹ï¼š
ç§‘æŠ€å·²ç»æ”¹å˜äº†21ä¸–çºªæˆ‘ä»¬å­¦ä¹ å’Œæ•™å­¦çš„æ–¹å¼ã€‚åœ¨çº¿å¹³å°è®©å­¦ç”Ÿå¯ä»¥ä»ä¸–ç•Œä»»ä½•åœ°æ–¹è·å–æ•™è‚²èµ„æºã€‚

ç„¶è€Œï¼Œä¸€äº›ä¸“å®¶è®¤ä¸ºè¿‡åº¦çš„å±å¹•æ—¶é—´å¯èƒ½ä¼šå½±å“å­¦ç”Ÿçš„èº«ä½“å¥åº·ã€‚"></textarea>
                
                <div class="tips">
                    <h4>ğŸ’¡ ç¿»è¯‘å¯¹é½</h4>
                    <ul>
                        <li>ä¸­æ–‡ç¿»è¯‘çš„æ®µè½æ•°åº”ä¸è‹±æ–‡ä¸€è‡´</li>
                        <li>æ¯å¥ç¿»è¯‘å¯¹åº”ä¸€å¥è‹±æ–‡</li>
                        <li>ä¿æŒç›¸åŒçš„æ®µè½é¡ºåº</li>
                    </ul>
                </div>
            </div>
        </div>
        
        <div class="step">
            <span class="step-number">4</span>
            <h2>ç”ŸæˆJSONæ–‡ä»¶</h2>
            <div class="step-content">
                <button class="tool-btn" onclick="generateJSON()">
                    âš™ï¸ ç”ŸæˆJSON
                </button>
                <button class="tool-btn secondary" onclick="previewData()">
                    ğŸ‘ï¸ é¢„è§ˆæ•ˆæœ
                </button>
                <button class="tool-btn secondary" onclick="clearAll()">
                    ğŸ—‘ï¸ æ¸…ç©ºå†…å®¹
                </button>
                
                <div class="preview" id="preview" style="display: none;">
                    <div class="preview-title">é¢„è§ˆï¼ˆå…± <span id="sentenceCount">0</span> å¥ï¼‰</div>
                    <div id="previewContent"></div>
                </div>
                
                <div class="download-section" id="downloadSection" style="display: none;">
                    <button class="tool-btn" onclick="downloadJSON()">
                        ğŸ’¾ ä¸‹è½½JSONæ–‡ä»¶
                    </button>
                    <a id="downloadLink"></a>
                </div>
            </div>
        </div>
        
        <div class="tips">
            <h4>ğŸ“‹ æ‰¹é‡å¤„ç†è¯´æ˜</h4>
            <ul>
                <li>æ¯ç¯‡æ–‡ç« å•ç‹¬ç”Ÿæˆä¸€ä¸ªJSONæ–‡ä»¶</li>
                <li>åœ¨StudyX APPä¸­é€ä¸ªå¯¼å…¥</li>
                <li>æˆ–è”ç³»å¼€å‘è€…æ‰¹é‡åˆå¹¶å¤šä¸ªJSON</li>
            </ul>
        </div>
    </div>
    
    <script>
        let generatedData = null;
        
        function splitSentences(text) {
            // æŒ‰å¥å·ã€é—®å·ã€æ„Ÿå¹å·åˆ†å‰²ï¼Œä½†ä¿ç•™æ ‡ç‚¹
            return text
                .replace(/([.!?ã€‚ï¼ï¼Ÿ])\s*/g, "$1\n")
                .split('\n')
                .map(s => s.trim())
                .filter(s => s.length > 5); // è¿‡æ»¤å¤ªçŸ­çš„å¥å­
        }
        
        function generateJSON() {
            const year = document.getElementById('year').value || '2024';
            const title = document.getElementById('title').value || 'Untitled';
            const source = document.getElementById('source').value || `${year}å¹´çœŸé¢˜`;
            const enText = document.getElementById('englishText').value;
            const zhText = document.getElementById('chineseText').value;
            
            if (!enText.trim()) {
                alert('è¯·ç²˜è´´è‹±æ–‡åŸæ–‡');
                return;
            }
            
            const enSentences = splitSentences(enText);
            const zhSentences = splitSentences(zhText);
            
            const sentences = [];
            const minLen = Math.min(enSentences.length, zhSentences.length);
            
            for (let i = 0; i < minLen; i++) {
                sentences.push({
                    en: enSentences[i],
                    zh: zhSentences[i] || ""
                });
            }
            
            // å¦‚æœè‹±æ–‡å¤šäºä¸­æ–‡ï¼Œç»§ç»­æ·»åŠ åªæœ‰è‹±æ–‡çš„
            for (let i = minLen; i < enSentences.length; i++) {
                sentences.push({
                    en: enSentences[i],
                    zh: ""
                });
            }
            
            generatedData = {
                year: year,
                title: title,
                source: source,
                sentences: sentences,
                questions: [],
                favorite: false,
                completed: false
            };
            
            previewData();
            document.getElementById('downloadSection').style.display = 'block';
            
            alert(`âœ… ç”ŸæˆæˆåŠŸï¼\nå…± ${sentences.length} å¥è¯\nè¯·ç‚¹å‡»"ä¸‹è½½JSONæ–‡ä»¶"`);
        }
        
        function previewData() {
            if (!generatedData) {
                generateJSON();
                return;
            }
            
            const preview = document.getElementById('preview');
            const content = document.getElementById('previewContent');
            const count = document.getElementById('sentenceCount');
            
            count.textContent = generatedData.sentences.length;
            
            content.innerHTML = generatedData.sentences.map((s, i) => `
                <div class="sentence-pair">
                    <div class="sentence-en"><strong>${i + 1}.</strong> ${s.en}</div>
                    <div class="sentence-zh">${s.zh}</div>
                </div>
            `).join('');
            
            preview.style.display = 'block';
        }
        
        function downloadJSON() {
            if (!generatedData) return;
            
            const jsonStr = JSON.stringify(generatedData, null, 2);
            const blob = new Blob([jsonStr], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            
            const link = document.getElementById('downloadLink');
            link.href = url;
            link.download = `reading_${generatedData.year}_${Date.now()}.json`;
            link.click();
            
            URL.revokeObjectURL(url);
        }
        
        function clearAll() {
            if (confirm('ç¡®å®šè¦æ¸…ç©ºæ‰€æœ‰å†…å®¹å—ï¼Ÿ')) {
                document.getElementById('englishText').value = '';
                document.getElementById('chineseText').value = '';
                document.getElementById('preview').style.display = 'none';
                document.getElementById('downloadSection').style.display = 'none';
                generatedData = null;
            }
        }
    </script>
</body>
</html>
